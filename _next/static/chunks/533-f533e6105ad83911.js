"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[533],{1794:(e,t,n)=>{n.r(t),n.d(t,{HexGridPathfinding:()=>H});var r,i,s=n(9835),a=n(5931),l=null,o=null,u=null,c=null,d=Math.sin,h=Math.cos,f=Math.ceil,x=Math.sign,v=Math.abs,g=Math.max,p=2*Math.PI/6,y=!0,m=!0,j=!1;function k(e,t){return t-f(-e/2)}class b{constructor(e,t,n,r,i,s,a,l,o){this.x=e,this.y=t,this.z=n,this.s=r,this.h=i,this.visited=s,this.inqueue=a,this.path=l,this.previous=o}}var w=[];function M(e){if(e.path&&"back"===e.s)e.h.style.fill="#557755";else if(e.inqueue&&"back"===e.s)e.h.style.fill="#775555";else if(e.visited&&"back"===e.s)e.h.style.fill="#555577";else switch(e.s){case"back":e.h.style.fill="#333333";break;case"wall":e.h.style.fill="#CCCCCC";break;case"start":e.h.style.fill="#0000AA";break;case"goal":e.h.style.fill="#00AA00";break;default:e.h.style.fill="#FFAAAA",console.log("ERROR: bad tile colour")}}function C(){for(var e of w)for(var t of e)M(t)}function A(e){"back"===e.s?e.s="wall":"wall"===e.s?y?(e.s="start",y=!1,r=e):m?(e.s="goal",m=!1,i=e):e.s="back":"start"===e.s?m?(e.s="goal",y=!0,m=!1,i=e):(e.s="back",y=!0):"goal"===e.s?(e.s="back",m=!0):(e.s="back",console.log("ERROR: bad tile type")),M(e)}var S=[];function R(e,t){t.visited||"wall"===t.s||(t.previous=e,t.inqueue=!0,t.visited=!0,S.push(t),M(t))}function E(e){c&&(c.textContent=e)}function z(e){o&&(o.textContent=e)}function T(e){u&&(u.textContent=e)}function D(){if(j){for(var e of w)for(var t of e)t.visited=!1,t.inqueue=!1,t.path=!1,t.previous=null;C(),E("Calculate"),j=!1}else if(y||m||!r||!i)z("ERROR: no start or no goal"),T("ERROR: no start or no goal");else{var n,s,a,l;z(String((n=r,a=(s=i).x-n.x,l=s.z-n.z,x(a)===x(l)?v(a+l):g(v(a),v(l))))),T(String(function(e,t){S=[];var n=0,r=0;for(e.visited||(S.push(e),e.visited=!0);0!==S.length&&n<500;){var i=S.shift();if(!i)break;if(i.inqueue=!1,function(e,t){if(M(e),e.x===t.x&&e.z===t.z)return!0;if(void 0!==w[e.x]){var n=e.x,r=e.z+1,i=w[n][k(n,r)];void 0!==i&&R(e,i);var s=e.x,a=e.z-1,l=w[s][k(s,a)];void 0!==l&&R(e,l)}if(void 0!==w[e.x+1]){var o=e.x+1,u=e.z,c=w[o][k(o,u)];void 0!==c&&R(e,c);var d=e.x+1,h=e.z-1,f=w[d][k(d,h)];void 0!==f&&R(e,f)}if(void 0!==w[e.x-1]){var x=e.x-1,v=e.z,g=w[x][k(x,v)];void 0!==g&&R(e,g);var p=e.x-1,y=e.z+1,m=w[p][k(p,y)];void 0!==m&&R(e,m)}return!1}(i,t)){for(;null!==i.previous;)i.path=!0,i=i.previous,r++;E("Reset"),j=!0,console.log("path found in "+n+" iterations"),C();break}n++}return j?r:(E("Reset"),j=!0,console.log("no path found after "+n+" iterations"),-1)}(r,i)))}}function H(){let e=(0,a.useRef)(null),t=(0,a.useRef)(null),n=(0,a.useRef)(null),x=(0,a.useRef)(null);return(0,a.useEffect)(()=>(l=e.current,o=t.current,u=n.current,c=x.current,w=[],S=[],y=!0,m=!0,j=!1,r=void 0,i=void 0,z(""),T(""),E("Calculate"),l&&(l.replaceChildren(),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25;for(var i=0;i<t;i++){for(var s=[],a=0;a<e;a++){var o=a+f(-i/2),u=function(e,t,n,r,i){for(var s=document.createElementNS("http://www.w3.org/2000/svg","polygon"),a=[],o=0;o<6;o++)a.push([r+20*h(p*o),i+20*d(p*o)]);if(!l)return s;for(var u of a){var c=l.createSVGPoint();c.x=u[0],c.y=u[1],s.points.appendItem(c),s.style.stroke="#FFFFFF"}return s.addEventListener("mouseover",function(n){1===n.buttons||3===n.buttons?A(w[e][t]):n.target.style.fill="#888888"},!1),s.addEventListener("mouseout",function(){M(w[e][t])},!1),s.addEventListener("mousedown",function(){A(w[e][t])},!1),l.appendChild(s),s}(i,a,0,i*(20+20*h(p))+n,(.5+i+2*o)*20*d(p)+r);s.push(new b(i,a,o,"back",u,!1,!1,!1,null))}w.push(s)}C()}(15,18)),()=>{w=[],S=[],l=null,o=null,u=null,c=null}),[]),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"fs-6",children:"Pathfinding on a SVG-based Hexagonal Grid"}),(0,s.jsxs)("p",{children:["Flying distance from start(blue) to end(green) is:"," ",(0,s.jsx)("span",{ref:t})]}),(0,s.jsxs)("p",{children:["Walking distance from start(blue) to end(green) is:"," ",(0,s.jsx)("span",{ref:n})]}),(0,s.jsx)("button",{ref:x,onClick:D,children:"Calculate"}),(0,s.jsx)("svg",{ref:e,id:"grid",viewBox:"0 0 500 600",height:500,width:600,style:{display:"block",marginTop:"1rem"}})]})}},1896:(e,t,n)=>{n.r(t),n.d(t,{RefreshHex:()=>o});var r=n(9835),i=n(5931),s=Math.sin,a=Math.cos,l=2*Math.PI/6;function o(){let e=(0,i.useRef)(null),[t,n]=(0,i.useState)(5),[o,u]=(0,i.useState)(7);return(0,i.useEffect)(()=>{let n=e.current;if(!n)return;let r=n.getContext("2d");if(!r)return;let i=()=>{n.width=window.innerWidth,n.height=window.innerHeight,r.strokeStyle="#DDDDDD",r.fillStyle="#225544",r.lineWidth=3,r.clearRect(0,0,n.width,n.height),function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:55,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:55;for(var o=0;o<n;o++)for(var u=0;u<t;u++)!function(e,t,n){e.beginPath();for(var r=0;r<6;r++)e.lineTo(t+50*a(l*r),n+50*s(l*r));e.closePath(),e.fill(),e.stroke()}(e,o*(50+50*a(l))+r,(((-1)**(o+1)+1)/2+2*u)*50*s(l)+i)}(r,t,o)};return i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[t,o]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("form",{children:[(0,r.jsx)("input",{id:"h",type:"number",style:{width:"5ch"},min:0,max:99,value:t,onChange:e=>{n(Math.max(0,Math.min(99,Number(e.target.value)||0)))}})," \xd7 ",(0,r.jsx)("input",{id:"w",type:"number",style:{width:"5ch"},min:0,max:99,value:o,onChange:e=>{u(Math.max(0,Math.min(99,Number(e.target.value)||0)))}})]}),(0,r.jsx)("br",{}),(0,r.jsx)("canvas",{id:"grid",ref:e,height:500,width:500,style:{width:"100%",height:"100%",margin:0}})]})}},5477:(e,t,n)=>{n.r(t),n.d(t,{ECalc:()=>s});var r=n(9835),i=n(5931);function s(e){let{defaultSize:t=1e3}=e,[n,s]=(0,i.useState)(t),[a,l]=(0,i.useState)(0),{benchString:o,e:u,count:c}=(0,i.useMemo)(()=>(function(e){let t=[...Array(e).keys()],n=Array(e).fill(!1),r=0,i=t.length;for(;i>0;){let e=Math.floor(Math.random()*i);i--,[t[i],t[e]]=[t[e],t[i]]}for(let i=0;i<e;i++){let s=t[i];0==s?!n[1]&&(n[s]=!0,r++):s==e-1?!n[e-2]&&(n[s]=!0,r++):!n[s-1]&&!n[s+1]&&(n[s]=!0,r++)}let s="";for(let t=0;t<e;t++)n[t]?s+="o":s+="_";return{benchString:s,e:1/Math.sqrt(1-r/e*2),count:r}})(n),[n,a]);return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"button",onClick:()=>l(e=>e+1),className:"rounded-2xl px-4 py-2 shadow border hover:shadow-md active:translate-y-px transition",children:"Reshuffle"})}),(0,r.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"flex items-center gap-3 flex-wrap","aria-label":"Bench controls",children:[(0,r.jsx)("label",{htmlFor:"sizeinput",className:"font-medium",children:"Bench size:"}),(0,r.jsx)("input",{id:"sizeinput",type:"number",value:n,min:0,onChange:e=>s(Number(e.target.value)),className:"border rounded px-3 py-1"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("i",{children:"e"})," = ",(0,r.jsx)("span",{"aria-live":"polite",children:Number.isFinite(u)?u.toPrecision(6):"∞"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"font-mono break-all whitespace-pre-wrap","aria-live":"polite",children:o})})]})}},5810:(e,t,n)=>{n.r(t),n.d(t,{Question:()=>u});var r=n(9835),i=n(5931),s=n(7584);function a(e){let{children:t,initiallyHidden:n=!0}=e,[s,a]=(0,i.useState)(n);return(0,r.jsx)("span",{onClick:()=>a(e=>!e),style:{opacity:+!s,cursor:"pointer"},children:t})}function l(e){let{children:t,initiallyHidden:n=!1}=e,[a,l]=(0,i.useState)(n);return(0,r.jsx)(s.X.Tr,{onClick:()=>l(e=>!e),style:{opacity:+!a,cursor:"pointer"},children:t})}function o(e){let{cells:t,initiallyHidden:n=!1}=e;return(0,r.jsx)(l,{initiallyHidden:n,children:t.map((e,t)=>(0,r.jsx)(s.X.Td,{children:e},t))})}function u(e){let{headers:t,rows:n,notes:i}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsx)(s.X.Tr,{children:t.map((e,t)=>(0,r.jsx)(s.X.Th,{children:e},t))})}),(0,r.jsx)("tbody",{children:n.map((e,t)=>(0,r.jsx)(o,{cells:e.cells,initiallyHidden:!!e.hidden},t))})]}),(0,r.jsx)("ul",{children:i.map((e,t)=>(0,r.jsxs)("li",{children:[e.label,": ",(0,r.jsx)(a,{initiallyHidden:!!e.hidden,children:e.content})]},t))})]})}},5973:(e,t,n)=>{n.r(t),n.d(t,{DakutenBox:()=>l});var r=n(9835),i=n(5931),s=n(5395);let a="The quick brown fox jumps over the lazy dog.\n\nΔιαφυλάξτε γενικά τη ζωή σας από βαθειά ψυχικά τραύματα.\n\nВ чащах юга жил бы цитрус? Да, но фальшивый экземпляр!\n\nԲել դղյակի ձախ ժամն օֆ ազգությանը ցպահանջ չճշտած վնաս էր եւ փառք։";function l(){let[e,t]=(0,i.useState)(""),[n,l]=(0,i.useState)("");return(0,r.jsxs)("div",{children:[(0,r.jsx)("textarea",{style:{display:"block",marginLeft:"auto",marginRight:"auto",backgroundColor:"#888888",width:"90%"},rows:10,value:e,onChange:e=>t(e.target.value),placeholder:a}),(0,r.jsx)("br",{}),(0,r.jsx)(s.Button,{style:{display:"block",marginLeft:"auto",marginRight:"auto"},onClick:function(){var t,n,r;l((t=""===e.trim()?a:e,r=RegExp(Object.keys(n={g:"kﾞ",z:"sﾞ",d:"tﾞ",b:"hﾞ",p:"hﾟ",v:"fﾞ",j:"cﾞ",ng:"kﾟ",μπ:"πﾞ",ντ:"τﾞ",γκ:"κﾞ",β:"φﾞ",δ:"θﾞ",ζ:"σﾞ",γ:"χﾞ",б:"пﾞ",в:"фﾞ",г:"кﾞ",д:"тﾞ",ж:"шﾞ",з:"сﾞ",բ:"փﾞ",պ:"փﾟ",դ:"թﾞ",տ:"թﾟ",գ:"քﾞ",կ:"քﾟ",ձ:"ցﾞ",ծ:"ցﾟ",ջ:"չﾞ",ճ:"չﾟ",վ:"ֆﾞ",զ:"սﾞ",ժ:"շﾞ",ղ:"խﾞ"}).join("|"),"gi"),t.replace(r,function(e){let t=e.toLowerCase();return t==e?n[t]:n[t].toUpperCase()})))},children:"つける！"}),(0,r.jsx)("br",{}),(0,r.jsx)("textarea",{style:{display:"block",marginLeft:"auto",marginRight:"auto",backgroundColor:"#888888",width:"90%"},rows:10,value:n,readOnly:!0}),(0,r.jsx)("br",{})]})}},6345:(e,t,n)=>{n.r(t),n.d(t,{RefreshGraph:()=>l});var r=n(9835),i=n(5931);class s{constructor(e,t,n=!1,r=999,i=999){this.x=e,this.y=t,this.visited=n,this.search_dist=r,this.search_last=i}}function a(e){let{size:t=25}=e,{circles:n,lines:a}=(0,i.useMemo)(()=>{let e=function(e){let t=[],n=[],r=[];for(let n=0;n<e;n++){let i=Math.random(),a=Math.random();t.push(new s(i,a));let l=Array(e).fill(999);for(let e=0;e<n;e++){let n=Math.hypot(i-t[e].x,a-t[e].y);l[e]=n}l[n]=0,r.push(l)}for(let t=0;t<e;t++){let i=0;for(let s=0;s<t;s++)Math.random()/2.5>r[t][s]/Math.SQRT2+i/e?(n.push([t,s]),r[s][t]=r[t][s],i++):r[t][s]=999}let i=Math.floor(Math.random()*e);t[i].search_dist=0,t[i].search_last=i;let a=Math.floor(Math.random()*(e-1));return{nodes:t,edges:n,dist:r,start:i,goal:a>=i?a+1:a}}(t),n=function(e){let{nodes:t,dist:n,start:r,goal:i}=e,s=t.length,a=Array(s).fill(999);a[r]=0;for(let e=0;e<s;e++){let e=999,r=-1;for(let n=0;n<s;n++)!t[n].visited&&a[n]<e&&(e=a[n],r=n);if(-1===r||999===e||r===i)break;let l=t[r].search_dist;for(let e=0;e<s;e++)if(!t[e].visited){let i=l+n[r][e];i<t[e].search_dist&&(t[e].search_dist=i,t[e].search_last=r,a[e]=i)}t[r].visited=!0,a[r]=999}let l=[];if(999===t[i].search_dist)return l;let o=i;for(;o!==r;){let e=t[o].search_last;if(999===e)break;l.push([o,e]),o=e}return l}(e);return{circles:e.nodes.map((t,n)=>({id:"c-".concat(n),cx:t.x,cy:t.y,r:n===e.start||n===e.goal?.01:.005,fill:n===e.start?"#AA00AA":n===e.goal?"#00AA00":"#AAAAAA"})),lines:[...e.edges.map(t=>{let[n,r]=t;return{id:"e-".concat(n,"-").concat(r),x1:e.nodes[n].x,y1:e.nodes[n].y,x2:e.nodes[r].x,y2:e.nodes[r].y,stroke:"#AAAAAA",strokeWidth:.003}}),...n.map((t,n)=>{let[r,i]=t;return{id:"p-".concat(r,"-").concat(i,"-").concat(n),x1:e.nodes[r].x,y1:e.nodes[r].y,x2:e.nodes[i].x,y2:e.nodes[i].y,stroke:"#00AAAA",strokeWidth:.005}})]}},[t]);return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1 1",style:{display:"block",maxWidth:"100%",pointerEvents:"none"},children:[n.map(e=>(0,r.jsx)("circle",{id:e.id,cx:e.cx,cy:e.cy,r:e.r,fill:e.fill},e.id)),a.map(e=>(0,r.jsx)("line",{id:e.id,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:e.stroke,strokeWidth:e.strokeWidth},e.id))]})}function l(){let[e,t]=(0,i.useState)(0);return(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{onClick:()=>t(e=>e+1),children:"New graph"}),(0,r.jsx)(a,{size:25},e)]})}},8487:(e,t,n)=>{n.r(t),n.d(t,{DTimer:()=>y,ETimer:()=>w,JTimer:()=>b,PTimer:()=>C,RTimer:()=>m,RdTimer:()=>j,ReTimer:()=>M,Timer:()=>p,ZTimer:()=>k,useTicker:()=>g});var r=n(9835),i=Math.PI,s=Math.sin,a=Math.cos,l=Math.tan,o=Math.asin,u=Math.atan2,c=i/180,d=23.4397*c,h={};h.getPosition=function(e,t,n){var r,h,f,x=c*t,v=e.valueOf()/864e5-.5+2440588-2451545,g=function(e){var t,n,r=(t=c*(357.5291+.98560028*e),n=c*(1.9148*s(t)+.02*s(2*t)+3e-4*s(3*t)),t+n+102.9372*c+i);return{dec:o(s(0)*a(d)+a(0)*s(d)*s(r)),ra:u(s(r)*a(d)-l(0)*s(d),a(r))}}(v),p=(r=-(c*n),c*(280.16+360.9856235*v)-r-g.ra);return{azimuth:(h=g.dec,u(s(p),a(p)*s(x)-l(h)*a(x))),altitude:(f=g.dec,o(s(x)*s(f)+a(x)*a(f)*a(p)))}};var f=h.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];h.addTime=function(e,t,n){f.push([e,t,n])};var x=n(5931);function v(e){return String(e).padStart(2,"0")}function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,[t,n]=(0,x.useState)(()=>new Date);return(0,x.useEffect)(()=>{let t=setInterval(()=>n(new Date),e);return()=>clearInterval(t)},[e]),t}function p(){let e=g(),t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return(0,r.jsx)("span",{children:v(t)+":"+v(n)+":"+v(i)})}function y(){let e=g(),t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return(0,r.jsx)("span",{children:v(t)+":"+v(n)+":"+v(i)})}function m(){let e=g(),t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return(0,r.jsx)("span",{children:v(t)+":"+v(n)+":"+v(i)})}function j(){let e=g(),t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return(0,r.jsx)("span",{children:v(t)+":"+v(n)+":"+v(i)})}function k(){let e=g(),t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return(0,r.jsx)("span",{children:v(t)+":"+v(n)+":"+v(i)})}function b(){let e=g(),t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return(0,r.jsx)("span",{children:v(t)+":"+v(n)+":"+v(i)})}function w(){let e=g(),t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return(0,r.jsx)("span",{children:v(t)+":"+v(n)+":"+v(i)})}function M(){let e=g(),t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return(0,r.jsx)("span",{children:v(t)+":"+v(n)+":"+v(i)})}function C(){let e=g(),t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return(0,r.jsx)("span",{children:v(t)+":"+v(n)+":"+v(i)})}},9555:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(9835),i=n(5931);let s="....................................................................................................................................***.........***...............*****.......*****.............*******.....*******...........*********...*********.........***********.***********.......*************************......*************************......*************************......*************************......*************************......*************************......*************************.......***********************.........*********************...........*******************.............*****************...............***************.................*************...................***********.....................*********.......................*******.........................*****...........................***.............................*............................................................................................................";class a{constructor(e,t,n,r,i,s,a){this.x=e,this.y=t,this.u=n,this.v=r,this.c=i,this.tx=s,this.ty=a}}function l(e,t){let n=(e.u-t.u)*(e.x-t.x)+(e.v-t.v)*(e.y-t.y),r=(e.x-t.x)**2+(e.y-t.y)**2;return[(e.x-t.x)*n/r,(e.y-t.y)*n/r]}function o(){let[e,t]=(0,i.useState)({heater:!1,freezer:!1,wrap:!1,elasticwall:!0,gravity:!1}),n=(0,i.useRef)(null),o=(0,i.useRef)([]),u=(0,i.useRef)({sdv:0,sdvs:[]}),[c,d]=(0,i.useState)(0),[h,f]=(0,i.useState)(0),[x,v]=(0,i.useState)(0);return(0,i.useEffect)(()=>{0===o.current.length&&(o.current=function(){let e=[];for(let t=0;t<s.length;t++){let n=s[t];if("\\"===n)continue;let r="*"===n?"hsla(".concat(360*Math.random(),", 50%, 50%, 1)"):"hsla(180, 10%, 20%, 1)",i=(t%31+.5)/31,l=(Math.floor(t/31)+.5)/30;e.push(new a(Math.random(),Math.random(),0,0,r,i,l))}return e}())},[]),(0,i.useEffect)(()=>{let t=n.current.getContext("2d"),r=0,i=()=>{let n=o.current,s=u.current,a=n.reduce((e,t)=>e+t.u**2+t.v**2,0)/2;for(let e=0;e<n.length-1;e++){let t=n[e];n.slice(e+1).forEach(e=>{let n=.01-Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2);if(n>0){t.x>e.x?(t.x+=.08*n,e.x-=.08*n):(t.x-=.08*n,e.x+=.08*n),t.y>e.y?(t.y+=.08*n,e.y-=.08*n):(t.y-=.08*n,e.y+=.08*n);let r=l(t,e),i=l(e,t);t.u-=r[0],t.v-=r[1],e.u-=i[0],e.v-=i[1]}})}for(let t=0;t<n.length;t++)!function(e,t,n){let{heater:r,freezer:i,wrap:s,elasticwall:a,gravity:l}=t,o=0;r&&(e.u+=(Math.random()-.5)*2e-4,e.v+=(Math.random()-.5)*2e-4),l&&(e.v+=4e-5);let u=e.tx-e.x,c=e.ty-e.y,d=Math.hypot(u,c)||.1;e.u+=u/d*5e-5,e.v+=c/d*5e-5,i&&(e.u/=1.015,e.v/=1.015),s?(e.x<.005&&(e.x+=1),e.x>.995&&(e.x-=1),e.y<.005&&(e.y+=1),e.y>.995&&(e.y-=1)):a?(e.x<.005&&(o-=2*e.u,e.u=-e.u,e.x=.005),e.x>.995&&(o+=2*e.u,e.u=-e.u,e.x=.995),e.y<.005&&(o-=2*e.v,e.v=-e.v,e.y=.005),e.y>.995&&(o+=2*e.v,e.v=-e.v,e.y=.995)):(e.x<.005&&(o-=1.8*e.u,e.u=-(.8*e.u),e.x=.005),e.x>.995&&(o+=1.8*e.u,e.u=-(.8*e.u),e.x=.995),e.y<.005&&(o-=1.8*e.v,e.v=-(.8*e.v),e.y=.005),e.y>.995&&(o+=1.8*e.v,e.v=-(.8*e.v),e.y=.995)),e.x+=e.u,e.y+=e.v,n.sdv=o}(n[t],e,s);s.sdvs.push(s.sdv),s.sdvs.length>100&&s.sdvs.shift();let c=s.sdvs.reduce((e,t)=>e+t,0)/s.sdvs.length;d(c),v(a?c/a:0),f(a),t.clearRect(0,0,1e3,1e3),t.beginPath(),t.lineWidth=5,t.strokeStyle="#DDDDDD",t.rect(0,0,1e3,1e3),t.stroke();for(let e of n)t.beginPath(),t.arc(1e3*e.x,1e3*e.y,5,0,2*Math.PI),t.fillStyle=e.c,t.fill();r=requestAnimationFrame(i)};return r=requestAnimationFrame(i),()=>cancelAnimationFrame(r)},[e]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("input",{type:"checkbox",checked:e.heater,onChange:e=>t(t=>({...t,heater:e.target.checked}))})," Heater"," ",(0,r.jsx)("input",{type:"checkbox",checked:e.freezer,onChange:e=>t(t=>({...t,freezer:e.target.checked}))})," Freezer"," ",(0,r.jsx)("input",{type:"checkbox",checked:e.wrap,onChange:e=>t(t=>({...t,wrap:e.target.checked}))})," Wrap walls"," ",(0,r.jsx)("input",{type:"checkbox",checked:e.elasticwall,onChange:e=>t(t=>({...t,elasticwall:e.target.checked}))})," Perfectly elastic walls"," ",(0,r.jsx)("input",{type:"checkbox",checked:e.gravity,onChange:e=>t(t=>({...t,gravity:e.target.checked}))})," Gravity"]}),(0,r.jsxs)("div",{style:{marginTop:8,marginBottom:8},children:["\xbdΣv: ",(0,r.jsx)("strong",{children:h.toFixed(5)}),"| Σdv on walls: ",(0,r.jsx)("strong",{children:c.toFixed(5)}),"| ratio: ",(0,r.jsx)("strong",{children:x.toFixed(5)})]}),(0,r.jsx)("canvas",{ref:n,width:1e3,height:1e3,style:{width:"100%",height:"100%",margin:0}})]})}}}]);