"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[315],{3839:(e,t,r)=>{r.r(t),r.d(t,{DTimer:()=>_,ETimer:()=>L,JTimer:()=>I,PTimer:()=>W,RTimer:()=>B,RdTimer:()=>P,ReTimer:()=>H,TimeOverrideProvider:()=>R,TimeTravelControls:()=>E,Timer:()=>z,ZTimer:()=>F,useTicker:()=>X});var n=r(9835),a=Math.PI,s=Math.sin,i=Math.cos,l=Math.tan,o=Math.asin,c=Math.atan2,u=Math.acos,d=a/180;function h(e){return new Date((e+.5-2440588)*864e5)}function f(e){return e.valueOf()/864e5-.5+2440588-2451545}var x=23.4397*d;function p(e,t){return o(s(t)*i(x)+i(t)*s(x)*s(e))}function v(e){return d*(357.5291+.98560028*e)}function m(e){var t=d*(1.9148*s(e)+.02*s(2*e)+3e-4*s(3*e));return e+t+102.9372*d+a}let g={};g.getPosition=function(e,t,r){var n,a,u,h,g=d*t,y=f(e),j={dec:p(n=m(v(y)),0),ra:c(s(n)*i(x)-l(0)*s(x),i(n))},b=(a=-(d*r),d*(280.16+360.9856235*y)-a-j.ra);return{azimuth:(u=j.dec,c(s(b),i(b)*s(g)-l(u)*i(g))),altitude:(h=j.dec,o(s(g)*s(h)+i(g)*i(h)*i(b)))}};var y=g.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];function j(e,t,r){return 9e-4+(e+t)/(2*a)+r}function b(e,t,r){return 2451545+e+.0053*s(t)-.0069*s(2*r)}function w(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;var l,o,c,x,g,w=-(d*r),k=d*t,C=-2.076*Math.sqrt(n)/60,M=Math.round(f(e)-9e-4-w/(2*a)),S=j(0,w,M),A=v(S),N=m(A),R=p(N,0),T=b(S,A,N);let E={solarNoon:h(T),nadir:h(T-.5)};for(l=0,o=y.length;l<o;l+=1)g=T-((x=function(e,t,r,n,a,l,o){return b(j(u((s(e)-s(r)*s(n))/(i(r)*i(n))),t,a),l,o)}(((c=y[l])[0]+C)*d,w,k,R,M,A,N))-T),E[c[1]]=h(g),E[c[2]]=h(x);return E}g.addTime=function(e,t,r){y.push([e,t,r])};var k=r(5931);function C(e){return String(e).padStart(2,"0")}function M(e){var t=new Date(e);return t.setHours(0,0,0,0),e.getTime()-t.getTime()}function S(e){var t={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1,S:.5,"\xb7":1/12};let r=e,n="";for(let e in t)for(;r>=t[e];)n+=e,r-=t[e];return n}function A(e,t){if("j"===t)var r=["明け六つ","六つ半","朝五つ","五つ半","昼四つ","四つ半","真昼九つ","九つ半","昼八つ","八つ半","夕七つ","七つ半"],n=["暮れ六つ","六つ半","宵五つ","五つ半","夜四つ","四つ半","真夜九つ","九つ半","夜八つ","八つ半","暁七つ","七つ半"];else if("r"!==t)return"unrecognised form";else var r=["ake-6","6.5","asa-5","5.5","hiru-4","4.5","mahiru-9","9.5","hiru-8","8.5","yū-7","7.5"],n=["kure-6","6.5","yoi-5","5.5","yoru-4","4.5","mayo-9","9.5","yoru-8","8.5","akatsuki-7","7.5"];var a=-(e.getTimezoneOffset()/60*15)+.76,s=w(e,35.02,a,47),i=s.dawn,l=s.dusk,o=e.getTime(),c=i.getTime(),u=l.getTime();if(e<i){var d=new Date;d.setDate(e.getDate()-1);var h=w(d,35.02,a,47).dusk.getTime(),f=(c-h)/12,x=(o-h)/f;return n[Math.floor(x)]}if(e<l){var f=(u-c)/12;return r[Math.floor((o-c)/f)]}var p=new Date;p.setDate(e.getDate()+1);var f=(w(p,35.02,a,47).dawn.getTime()-u)/12,x=(o-u)/f;return n[Math.floor(x)]}let N=(0,k.createContext)(null);function R(e){let{currentTime:t,children:r}=e;return(0,n.jsx)(N.Provider,{value:t,children:r})}function T(e,t){let r=Number(e);return Number.isNaN(r)?0:Math.min(t,Math.max(0,Math.floor(r)))}function E(e){let{children:t}=e,[r,a]=(0,k.useState)(!1),[s,i]=(0,k.useState)("12"),[l,o]=(0,k.useState)("34"),[c,u]=(0,k.useState)("56"),d=(0,k.useMemo)(()=>{if(!r)return null;let e=new Date;return e.setHours(T(s,23),T(l,59),T(c,59),0),e},[r,s,l,c]);return(0,n.jsx)(R,{currentTime:d,children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,n.jsx)("div",{children:t}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)("input",{type:"checkbox",checked:r,onChange:e=>a(e.target.checked)}),"Enable time travel"]}),r&&(0,n.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,n.jsx)("strong",{children:"Select current time:"}),(0,n.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"app-form-inline app-form-inline--compact",children:[(0,n.jsx)("input",{type:"number",min:"0",max:"23",className:"app-input app-input--compact",value:s,"aria-label":"Hours",onChange:e=>i(e.target.value)}),(0,n.jsx)("span",{className:"app-form-separator","aria-hidden":"true",children:":"}),(0,n.jsx)("input",{type:"number",min:"0",max:"59",className:"app-input app-input--compact",value:l,"aria-label":"Minutes",onChange:e=>o(e.target.value)}),(0,n.jsx)("span",{className:"app-form-separator","aria-hidden":"true",children:":"}),(0,n.jsx)("input",{type:"number",min:"0",max:"59",className:"app-input app-input--compact",value:c,"aria-label":"Seconds",onChange:e=>u(e.target.value)})]})]})]})]})})}function D(e){let t=e/.864,r=Math.round(t).toString().padStart(5,"0"),n=r.slice(0,-4)||"0";return{decimalSeconds:t,h:n,m:r.slice(-4,-2)||"0",s:r.slice(-2)||"0"}}function X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=(0,k.useContext)(N),[r,n]=(0,k.useState)(()=>new Date);return(0,k.useEffect)(()=>{if(t)return;let r=setInterval(()=>n(new Date),e);return()=>clearInterval(r)},[e,t]),null!=t?t:r}function z(){let e=X(),t=e.getHours(),r=e.getMinutes(),a=e.getSeconds();return(0,n.jsx)("span",{children:C(t)+":"+C(r)+":"+C(a)})}function _(){let e=D(M(X())/1e3);return(0,n.jsx)("span",{children:"".concat(C(e.h),":").concat(C(e.m),":").concat(C(e.s))})}function B(){let e=X(),t=S(100*e.getHours()+e.getMinutes()+e.getSeconds()/100+e.getMilliseconds()/1e5);return(0,n.jsx)("span",{children:t})}function P(){let e=S(D(M(X())/1e3).decimalSeconds/100);return(0,n.jsx)("span",{children:e})}function F(){var e;let t=["\uD83D\uDC01","\uD83D\uDC02","\uD83D\uDC05","\uD83D\uDC07","\uD83D\uDC09","\uD83D\uDC0D","\uD83D\uDC0E","\uD83D\uDC11","\uD83D\uDC12","\uD83D\uDC13","\uD83D\uDC15","\uD83D\uDC16","\uD83D\uDC01"][Math.floor(e=(M(X())/1e3/60+60)/120)]+"↑\xb7↓"[Math.floor(e%1*3)];return(0,n.jsx)("span",{children:t})}function I(){let e=["未明","明け方","朝","昼前","昼過ぎ","夕方","夜のはじめ頃","夜遅く"][Math.floor(X().getHours()/3)];return(0,n.jsx)("span",{children:e})}function L(){let e=A(X(),"j");return(0,n.jsx)("span",{children:e})}function H(){let e=A(X(),"r");return(0,n.jsx)("span",{children:e})}function W(){let e=X(),t=e.getHours(),r=e.getMinutes(),a=e.getSeconds(),s=function(e){var t,r=["nil","un","bi","tri","quad","pent","hex","sept","oct","enn"],n="";for(t=0;t<e.length;t++)n+=r[e[t]];return(n+="ium").replace("nnn","nn").replace("ii","i")}(t.toString()+r.toString()+a.toString());return(0,n.jsx)("span",{children:s})}},4103:(e,t,r)=>{r.r(t),r.d(t,{DakutenBox:()=>l});var n=r(9835),a=r(5931),s=r(5828);let i="The quick brown fox jumps over the lazy dog.\n\nΔιαφυλάξτε γενικά τη ζωή σας από βαθειά ψυχικά τραύματα.\n\nВ чащах юга жил бы цитрус? Да, но фальшивый экземпляр!\n\nԲել դղյակի ձախ ժամն օֆ ազգությանը ցպահանջ չճշտած վնաս էր եւ փառք։";function l(){let[e,t]=(0,a.useState)(""),[r,l]=(0,a.useState)("");return(0,n.jsxs)("div",{className:"app-dakuten",children:[(0,n.jsx)("textarea",{className:"app-textarea",rows:10,value:e,onChange:e=>t(e.target.value),placeholder:i}),(0,n.jsx)("div",{className:"app-form-actions",children:(0,n.jsx)(s.Button,{onClick:function(){var t,r,n;l((t=""===e.trim()?i:e,n=RegExp(Object.keys(r={g:"kﾞ",z:"sﾞ",d:"tﾞ",b:"hﾞ",p:"hﾟ",v:"fﾞ",j:"cﾞ",ng:"kﾟ",μπ:"πﾞ",ντ:"τﾞ",γκ:"κﾞ",β:"φﾞ",δ:"θﾞ",ζ:"σﾞ",γ:"χﾞ",б:"пﾞ",в:"фﾞ",г:"кﾞ",д:"тﾞ",ж:"шﾞ",з:"сﾞ",բ:"փﾞ",պ:"փﾟ",դ:"թﾞ",տ:"թﾟ",գ:"քﾞ",կ:"քﾟ",ձ:"ցﾞ",ծ:"ցﾟ",ջ:"չﾞ",ճ:"չﾟ",վ:"ֆﾞ",զ:"սﾞ",ժ:"շﾞ",ղ:"խﾞ"}).join("|"),"gi"),t.replace(n,function(e){let t=e.toLowerCase();return t==e?r[t]:r[t].toUpperCase()})))},children:"つける！"})}),(0,n.jsx)("textarea",{className:"app-textarea",rows:10,value:r,readOnly:!0})]})}},4812:(e,t,r)=>{r.r(t),r.d(t,{HexGridPathfinding:()=>O});var n,a,s=r(9835),i=r(5931),l=r(5828),o=null,c=null,u=null,d=null,h=Math.sin,f=Math.cos,x=Math.ceil,p=Math.sign,v=Math.abs,m=Math.max,g=2*Math.PI/6,y="#333333",j="#CCCCCC",b="#00AA00",w="#0000AA",k="#555577",C="#557755",M="#775555",S=!0,A=!0,N=!1,R=!1;function T(e,t){return t-x(-e/2)}class E{constructor(e,t,r,n,a,s,i,l,o){this.x=e,this.y=t,this.z=r,this.s=n,this.h=a,this.visited=s,this.inqueue=i,this.path=l,this.previous=o}}var D=[];function X(e){if(e.path&&"back"===e.s)e.h.style.fill=C;else if(e.inqueue&&"back"===e.s)e.h.style.fill=M;else if(e.visited&&"back"===e.s)e.h.style.fill=k;else switch(e.s){case"back":e.h.style.fill=y;break;case"wall":e.h.style.fill=j;break;case"start":e.h.style.fill=b;break;case"goal":e.h.style.fill=w;break;default:e.h.style.fill="#FFAAAA",console.log("ERROR: bad tile colour")}}function z(){for(var e of D)for(var t of e)X(t)}function _(e){"back"===e.s?e.s="wall":"wall"===e.s?S?(e.s="start",S=!1,n=e):A?(e.s="goal",A=!1,a=e):e.s="back":"start"===e.s?A?(e.s="goal",S=!0,A=!1,a=e):(e.s="back",S=!0):"goal"===e.s?(e.s="back",A=!0):(e.s="back",console.log("ERROR: bad tile type")),X(e)}var B=[];function P(e,t){t.visited||"wall"===t.s||(t.previous=e,t.inqueue=!0,t.visited=!0,B.push(t),X(t))}function F(e){d&&(d.textContent=e)}function I(e){c&&(c.textContent=e)}function L(e){u&&(u.textContent=e)}function H(e){R=e,d&&(d.disabled=e),o&&(o.style.pointerEvents=e?"none":"")}async function W(e,t){B=[];var r=0,n=0;N=!1,F("Calculating..."),H(!0),e.visited||(B.push(e),e.visited=!0);try{for(;0!==B.length&&r<750;){var a=B.shift();if(!a)break;if(a.inqueue=!1,function(e,t){if(X(e),e.x===t.x&&e.z===t.z)return!0;if(void 0!==D[e.x]){var r=e.x,n=e.z+1,a=D[r][T(r,n)];void 0!==a&&P(e,a);var s=e.x,i=e.z-1,l=D[s][T(s,i)];void 0!==l&&P(e,l)}if(void 0!==D[e.x+1]){var o=e.x+1,c=e.z,u=D[o][T(o,c)];void 0!==u&&P(e,u);var d=e.x+1,h=e.z-1,f=D[d][T(d,h)];void 0!==f&&P(e,f)}if(void 0!==D[e.x-1]){var x=e.x-1,p=e.z,v=D[x][T(x,p)];void 0!==v&&P(e,v);var m=e.x-1,g=e.z+1,y=D[m][T(m,g)];void 0!==y&&P(e,y)}return!1}(a,t)){for(;null!==a.previous;)a.path=!0,a=a.previous,n++;F("Reset"),N=!0,console.log("path found in "+r+" iterations"),z();break}r++,await new Promise(e=>{window.setTimeout(e,33)})}if(N)return n;return F("Reset"),N=!0,console.log("no path found after "+r+" iterations"),-1}finally{H(!1)}}async function q(){if(!R)if(N){for(var e of(H(!1),D))for(var t of e)t.visited=!1,t.inqueue=!1,t.path=!1,t.previous=null;z(),F("Calculate"),N=!1}else if(S||A||!n||!a)I("ERROR: no start or no goal"),L("ERROR: no start or no goal");else{var r,s,i,l;I(String((r=n,i=(s=a).x-r.x,l=s.z-r.z,p(i)===p(l)?v(i+l):m(v(i),v(l))))),L(String(await W(n,a)))}}function O(){let e=(0,i.useRef)(null),t=(0,i.useRef)(null),r=(0,i.useRef)(null),p=(0,i.useRef)(null);return(0,i.useEffect)(()=>(o=e.current,c=t.current,u=r.current,d=p.current,D=[],B=[],S=!0,A=!0,N=!1,n=void 0,a=void 0,I(""),L(""),F("Calculate"),H(!1),o&&(o.replaceChildren(),function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25;for(var a=0;a<t;a++){for(var s=[],i=0;i<e;i++){var l=i+x(-a/2),c=function(e,t,r,n,a){for(var s=document.createElementNS("http://www.w3.org/2000/svg","polygon"),i=[],l=0;l<6;l++)i.push([n+20*f(g*l),a+20*h(g*l)]);if(!o)return s;for(var c of i){var u=o.createSVGPoint();u.x=c[0],u.y=c[1],s.points.appendItem(u),s.style.stroke="#FFFFFF"}return s.addEventListener("mouseover",function(r){R||(1===r.buttons||3===r.buttons?_(D[e][t]):r.target.style.fill="#888888")},!1),s.addEventListener("mouseout",function(){X(D[e][t])},!1),s.addEventListener("mousedown",function(){R||_(D[e][t])},!1),o.appendChild(s),s}(a,i,0,a*(20+20*f(g))+r,(.5+a+2*l)*20*h(g)+n);s.push(new E(a,i,l,"back",c,!1,!1,!1,null))}D.push(s)}z()}(22,32)),()=>{D=[],B=[],o=null,c=null,u=null,d=null}),[]),(0,s.jsxs)("div",{children:[(0,s.jsx)(l.Button,{ref:p,onClick:q,children:"Calculate"}),(0,s.jsxs)("p",{children:["Flying distance from start to end is: ",(0,s.jsx)("span",{ref:t})]}),(0,s.jsxs)("p",{children:["Walking distance from start to end is: ",(0,s.jsx)("span",{ref:r})]}),(0,s.jsx)(G,{}),(0,s.jsx)("svg",{ref:e,id:"grid",viewBox:"0 0 1000 1000",style:{display:"block",marginTop:"1rem"}})]})}function G(){let e={padding:"0.2rem 0.6rem",borderRadius:"0.375rem",fontWeight:600,display:"inline-flex",alignItems:"center"};return(0,s.jsxs)("div",{className:"app-form-inline app-form-inline--compact",style:{alignItems:"center",gap:"0.75rem",flexWrap:"wrap"},children:[(0,s.jsx)("strong",{children:"Legend:"}),[{label:"Start",color:b,textColor:"#ffffff"},{label:"End",color:w,textColor:"#ffffff"},{label:"Empty",color:y,textColor:"#ffffff"},{label:"Wall",color:j,textColor:"#000000"},{label:"Visited",color:k,textColor:"#ffffff"},{label:"Queued",color:M,textColor:"#ffffff"},{label:"Path",color:C,textColor:"#ffffff"}].map(t=>(0,s.jsx)("span",{style:{...e,backgroundColor:t.color,color:t.textColor},children:t.label},t.label))]})}},4927:(e,t,r)=>{r.r(t),r.d(t,{ECalc:()=>i});var n=r(9835),a=r(5931),s=r(5828);function i(e){let{defaultSize:t=1e3}=e,r=Math.min(150697,Math.max(0,Math.floor(t))),[i,l]=(0,a.useState)(r),[o,c]=(0,a.useState)(0),{benchString:u,e:d,count:h}=(0,a.useMemo)(()=>(function(e){let t=[...Array(e).keys()],r=Array(e).fill(!1),n=0,a=t.length;for(;a>0;){let e=Math.floor(Math.random()*a);a--,[t[a],t[e]]=[t[e],t[a]]}for(let a=0;a<e;a++){let s=t[a];0==s?!r[1]&&(r[s]=!0,n++):s==e-1?!r[e-2]&&(r[s]=!0,n++):!r[s-1]&&!r[s+1]&&(r[s]=!0,n++)}let s="";for(let t=0;t<e;t++)r[t]?s+="o":s+="_";return{benchString:s,e:1/Math.sqrt(1-n/e*2),count:n}})(i),[i,o]);return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{children:(0,n.jsx)(s.Button,{type:"button",onClick:()=>c(e=>e+1),className:"rounded-2xl px-4 py-2 shadow border hover:shadow-md active:translate-y-px transition",children:"Reshuffle"})}),(0,n.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"app-form-inline","aria-label":"Bench controls",children:[(0,n.jsx)("label",{htmlFor:"sizeinput",className:"app-form-label",children:"Bench size:"}),(0,n.jsx)("input",{id:"sizeinput",type:"number",value:i,min:0,max:150697,onChange:e=>(e=>{let t=Number(e);if(Number.isNaN(t))return void l(0);l(Math.min(150697,Math.max(0,Math.floor(t))))})(e.target.value),className:"app-input"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("i",{children:"e"})," = ",(0,n.jsx)("span",{"aria-live":"polite",children:Number.isFinite(d)?d.toPrecision(6):"∞"})]}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"font-mono break-all whitespace-pre-wrap","aria-live":"polite",children:u})})]})}},5246:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var n=r(9835),a=r(5931);let s="....................................................................................................................................***.........***...............*****.......*****.............*******.....*******...........*********...*********.........***********.***********.......*************************......*************************......*************************......*************************......*************************......*************************......*************************.......***********************.........*********************...........*******************.............*****************...............***************.................*************...................***********.....................*********.......................*******.........................*****...........................***.............................*............................................................................................................";class i{constructor(e,t,r,n,a,s,i){this.x=e,this.y=t,this.u=r,this.v=n,this.c=a,this.tx=s,this.ty=i}}function l(e,t){let r=(e.u-t.u)*(e.x-t.x)+(e.v-t.v)*(e.y-t.y),n=(e.x-t.x)**2+(e.y-t.y)**2;return[(e.x-t.x)*r/n,(e.y-t.y)*r/n]}function o(){let[e,t]=(0,a.useState)({heater:!1,freezer:!1,wrap:!1,elasticwall:!0,gravity:!1}),r=(0,a.useRef)(null),o=(0,a.useRef)([]),c=(0,a.useRef)({sdv:0,sdvs:[]}),u=(0,a.useRef)(e),d=(0,a.useRef)({left:!1,right:!1,up:!1,down:!1}),h=(0,a.useRef)(null),[f,x]=(0,a.useState)(0),[p,v]=(0,a.useState)(0),[m,g]=(0,a.useState)(0);return(0,a.useEffect)(()=>{u.current=e},[e]),(0,a.useEffect)(()=>{let e=e=>{switch(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].indexOf(e.code)>-1&&e.preventDefault(),e.key){case"ArrowLeft":d.current.left=!0;break;case"ArrowRight":d.current.right=!0;break;case"ArrowUp":d.current.up=!0;break;case"ArrowDown":d.current.down=!0}},t=e=>{switch(e.key){case"ArrowLeft":d.current.left=!1;break;case"ArrowRight":d.current.right=!1;break;case"ArrowUp":d.current.up=!1;break;case"ArrowDown":d.current.down=!1}};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[]),(0,a.useEffect)(()=>{let e=r.current;if(!e)return;let t=e.getContext("2d");if(!t)return;h.current=t,0===o.current.length&&(o.current=function(){let e=[];for(let t=0;t<s.length;t++){let r;r="*"===s[t]?"hsla(".concat(360*Math.random(),", 50%, 50%, 1)"):"hsla(180, 10%, 20%, 1)";let n=(t%31+.5)/31,a=(Math.floor(t/31)+.5)/30;e[t]=new i(Math.random(),Math.random(),0,0,r,n,a)}return e}());let n=()=>{let e=o.current,t=c.current,r=h.current;if(!r)return;let n=e.reduce((e,t)=>e+t.u**2+t.v**2,0)/2;t.sdvs.push(t.sdv),t.sdvs.length>100&&t.sdvs.shift();let a=t.sdvs.length?t.sdvs.reduce((e,t)=>e+t,0)/t.sdvs.length:0;x(a),g(n?a/n:0),v(n),t.sdv=0,r.clearRect(0,0,1e3,1e3);for(let t=0;t<e.length-1;t++){let r=e[t];e.slice(t+1).forEach(e=>{let t=.012-Math.sqrt((r.x-e.x)**2+(r.y-e.y)**2);if(t>0){r.x>e.x?(r.x+=.08*t,e.x-=.08*t):(r.x-=.08*t,e.x+=.08*t),r.y>e.y?(r.y+=.08*t,e.y-=.08*t):(r.y-=.08*t,e.y+=.08*t);let n=l(r,e),a=l(e,r);r.u-=n[0],r.v-=n[1],e.u-=a[0],e.v-=a[1]}})}for(let n=0;n<e.length;n++)!function(e,t,r,n,a){let{heater:s,freezer:i,wrap:l,elasticwall:o,gravity:c}=t;s&&(e.u+=(Math.random()-.5)*2e-4,e.v+=(Math.random()-.5)*2e-4),r.left&&(e.u-=2e-4),r.right&&(e.u+=2e-4),r.up&&(e.v-=2e-4),r.down&&(e.v+=2e-4);let u=Math.sqrt((e.tx-e.x)**2+(e.ty-e.y)**2);e.u+=(e.tx-e.x)*u*5e-5,e.v+=(e.ty-e.y)*u*5e-5,e.x+=e.u,e.y+=e.v,i&&(e.u=e.u/1.015,e.v=e.v/1.015),c&&(e.v+=4e-5),l?(e.x<.006&&(e.x+=1),e.x>.994&&(e.x-=1),e.y<.006&&(e.y+=1),e.y>.994&&(e.y-=1)):o?(e.x<.006&&(n.sdv-=2*e.u,e.u=-e.u,e.x=.006),e.x>.994&&(n.sdv+=2*e.u,e.u=-e.u,e.x=.994),e.y<.006&&(n.sdv-=2*e.v,e.v=-e.v,e.y=.006),e.y>.994&&(n.sdv+=2*e.v,e.v=-e.v,e.y=.994)):(e.x<.006&&(n.sdv-=1.8*e.u,e.u=-(.8*e.u),e.x=.006),e.x>.994&&(n.sdv+=1.8*e.u,e.u=-(.8*e.u),e.x=.994),e.y<.006&&(n.sdv-=1.8*e.v,e.v=-(.8*e.v),e.y=.006),e.y>.994&&(n.sdv+=1.8*e.v,e.v=-(.8*e.v),e.y=.994)),a.beginPath(),a.arc(1e3*e.x,1e3*e.y,6,0,2*Math.PI),a.fillStyle=e.c,a.fill()}(e[n],u.current,d.current,t,r);r.beginPath(),r.lineWidth=5,r.strokeStyle="#DDDDDD",r.rect(0,0,1e3,1e3),r.stroke()};n();let a=window.setInterval(n,10);return()=>{window.clearInterval(a),h.current=null}},[]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("fieldset",{children:[(0,n.jsx)("input",{type:"checkbox",checked:e.heater,onChange:e=>t(t=>({...t,heater:e.target.checked}))})," Heater"," ",(0,n.jsx)("input",{type:"checkbox",checked:e.freezer,onChange:e=>t(t=>({...t,freezer:e.target.checked}))})," Freezer"," ",(0,n.jsx)("input",{type:"checkbox",checked:e.wrap,onChange:e=>t(t=>({...t,wrap:e.target.checked}))})," Wrap walls"," ",(0,n.jsx)("input",{type:"checkbox",checked:e.elasticwall,onChange:e=>t(t=>({...t,elasticwall:e.target.checked}))})," Perfectly elastic walls"," ",(0,n.jsx)("input",{type:"checkbox",checked:e.gravity,onChange:e=>t(t=>({...t,gravity:e.target.checked}))})," Gravity"]}),(0,n.jsxs)("div",{style:{marginTop:8,marginBottom:8},children:["\xbdΣv: ",(0,n.jsx)("strong",{children:p.toFixed(5)}),"| Σdv on walls: ",(0,n.jsx)("strong",{children:f.toFixed(5)}),"| ratio: ",(0,n.jsx)("strong",{children:m.toFixed(5)})]}),(0,n.jsx)("canvas",{ref:r,width:1e3,height:1e3,style:{width:"100%",height:"100%",margin:0}})]})}},5286:(e,t,r)=>{r.d(t,{MDXImage:()=>s});var n=r(9835);let a=r(2061).ImageZoom;function s(e){let{title:t,className:r,style:s,...i}=e,l=t?parseFloat(t):85,o={...null!=s?s:{},"--mdx-image-width":"".concat(l,"%")};return(0,n.jsx)(a,{...i,className:r?"mdx-image ".concat(r):"mdx-image",title:void 0,style:o})}},5758:(e,t,r)=>{r.d(t,{TimeStamp:()=>a});var n=r(9835);let a=e=>{let{date:t,children:r="Last updated on"}=e;return t?(0,n.jsxs)("div",{className:"x:mt-12 x:mb-8 x:text-xs x:text-gray-600 x:text-end x:dark:text-gray-400",children:[r," ",(0,n.jsx)("time",{suppressHydrationWarning:!0,children:t})]}):null}},5828:(e,t,r)=>{r.d(t,{Button:()=>i});var n=r(9835),a=r(5931);let s="app-button",i=(0,a.forwardRef)(function(e,t){let{className:r,type:a="button",href:i,...l}=e,o=r?"".concat(s," ").concat(r):s;return i?(0,n.jsx)("a",{ref:t,className:o,href:i,...l}):(0,n.jsx)("button",{ref:t,className:o,type:a,...l})})},5898:(e,t,r)=>{r.r(t),r.d(t,{RefreshHex:()=>o});var n=r(9835),a=r(5931),s=Math.sin,i=Math.cos,l=2*Math.PI/6;function o(){let e=(0,a.useRef)(null),[t,r]=(0,a.useState)(5),[o,c]=(0,a.useState)(7);return(0,a.useEffect)(()=>{let r=e.current;if(!r)return;let n=r.getContext("2d");if(!n)return;let a=()=>{r.width=window.innerWidth,r.height=window.innerHeight,n.strokeStyle="#DDDDDD",n.fillStyle="#225544",n.lineWidth=3,n.clearRect(0,0,r.width,r.height),function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:55,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:55;for(var o=0;o<r;o++)for(var c=0;c<t;c++)!function(e,t,r){e.beginPath();for(var n=0;n<6;n++)e.lineTo(t+50*i(l*n),r+50*s(l*n));e.closePath(),e.fill(),e.stroke()}(e,o*(50+50*i(l))+n,(((-1)**(o+1)+1)/2+2*c)*50*s(l)+a)}(n,t,o)};return a(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[t,o]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("form",{className:"app-form-inline app-form-inline--compact","aria-label":"Hex grid size controls",children:[(0,n.jsx)("input",{id:"h",type:"number",className:"app-input app-input--compact",min:0,max:99,value:t,"aria-label":"Grid height",onChange:e=>{r(Math.max(0,Math.min(99,Number(e.target.value)||0)))}}),(0,n.jsx)("span",{className:"app-form-separator","aria-hidden":"true",children:"\xd7"}),(0,n.jsx)("input",{id:"w",type:"number",className:"app-input app-input--compact",min:0,max:99,value:o,"aria-label":"Grid width",onChange:e=>{c(Math.max(0,Math.min(99,Number(e.target.value)||0)))}})]}),(0,n.jsx)("br",{}),(0,n.jsx)("canvas",{id:"grid",ref:e,height:500,width:500,style:{width:"100%",height:"100%",margin:0}})]})}},7107:(e,t,r)=>{r.r(t),r.d(t,{Question:()=>c});var n=r(9835),a=r(5931),s=r(7584);let i=e=>"string"==typeof e||"number"==typeof e?"_____":"Spoiler";function l(e){let{children:t,initiallyHidden:r=!0}=e,[s,l]=(0,a.useState)(r);return s?(0,n.jsx)("button",{type:"button",onClick:()=>l(!1),"aria-label":"Reveal spoiler",children:(0,n.jsx)("span",{"aria-hidden":"true",children:i(t)})}):(0,n.jsx)("span",{children:t})}function o(e){let{cells:t,initiallyHidden:r=!1}=e,[l,o]=(0,a.useState)(r);return(0,n.jsx)(s.X.Tr,{onClick:()=>{l&&o(!1)},children:t.map((e,t)=>(0,n.jsx)(s.X.Td,{children:l?(0,n.jsx)("span",{"aria-hidden":"true",children:i(e)}):e},t))})}function c(e){let{headers:t,rows:r,notes:a}=e;return(0,n.jsxs)("div",{className:"nx-my-6 nx-space-y-6",children:[(0,n.jsxs)(s.X,{className:"nx-w-full nx-border-collapse nx-text-sm nx-leading-7 nx-text-slate-800 dark:nx-text-slate-100",style:{borderSpacing:0},children:[(0,n.jsx)("thead",{children:(0,n.jsx)(s.X.Tr,{className:"nx-border-b nx-border-slate-200 dark:nx-border-slate-800",children:t.map((e,t)=>(0,n.jsx)(s.X.Th,{className:"nx-font-semibold nx-py-2 nx-pr-4",children:e},t))})}),(0,n.jsx)("tbody",{children:r.map((e,t)=>(0,n.jsx)(o,{cells:e.cells,initiallyHidden:!!e.hidden},t))})]}),(0,n.jsx)("ul",{className:"nx-space-y-2",style:{listStyle:"disc",listStylePosition:"outside",paddingInlineStart:"1.5rem",lineHeight:"1.75"},children:a.map((e,t)=>(0,n.jsxs)("li",{children:[e.label,": ",(0,n.jsx)(l,{initiallyHidden:!!e.hidden,children:e.content})]},t))})]})}},7575:(e,t,r)=>{r.r(t),r.d(t,{RefreshGraph:()=>o});var n=r(9835),a=r(5931),s=r(5828);class i{constructor(e,t,r=!1,n=999,a=999){this.x=e,this.y=t,this.visited=r,this.search_dist=n,this.search_last=a}}function l(e){let{size:t=25}=e,{circles:r,lines:s}=(0,a.useMemo)(()=>{let e=function(e){let t=[],r=[],n=[];for(let r=0;r<e;r++){let a=Math.random(),s=Math.random();t.push(new i(a,s));let l=Array(e).fill(999);for(let e=0;e<r;e++){let r=Math.hypot(a-t[e].x,s-t[e].y);l[e]=r}l[r]=0,n.push(l)}for(let t=0;t<e;t++){let a=0;for(let s=0;s<t;s++)Math.random()/2.5>n[t][s]/Math.SQRT2+a/e?(r.push([t,s]),n[s][t]=n[t][s],a++):n[t][s]=999}let a=Math.floor(Math.random()*e);t[a].search_dist=0,t[a].search_last=a;let s=Math.floor(Math.random()*(e-1));return{nodes:t,edges:r,dist:n,start:a,goal:s>=a?s+1:s}}(t),r=function(e){let{nodes:t,dist:r,start:n,goal:a}=e,s=t.length,i=Array(s).fill(999);i[n]=0;for(let e=0;e<s;e++){let e=999,n=-1;for(let r=0;r<s;r++)!t[r].visited&&i[r]<e&&(e=i[r],n=r);if(-1===n||999===e||n===a)break;let l=t[n].search_dist;for(let e=0;e<s;e++)if(!t[e].visited){let a=l+r[n][e];a<t[e].search_dist&&(t[e].search_dist=a,t[e].search_last=n,i[e]=a)}t[n].visited=!0,i[n]=999}let l=[];if(999===t[a].search_dist)return l;let o=a;for(;o!==n;){let e=t[o].search_last;if(999===e)break;l.push([o,e]),o=e}return l}(e);return{circles:e.nodes.map((t,r)=>({id:"c-".concat(r),cx:t.x,cy:t.y,r:r===e.start||r===e.goal?.01:.005,fill:r===e.start?"#AA00AA":r===e.goal?"#00AA00":"#AAAAAA"})),lines:[...e.edges.map(t=>{let[r,n]=t;return{id:"e-".concat(r,"-").concat(n),x1:e.nodes[r].x,y1:e.nodes[r].y,x2:e.nodes[n].x,y2:e.nodes[n].y,stroke:"#AAAAAA",strokeWidth:.003}}),...r.map((t,r)=>{let[n,a]=t;return{id:"p-".concat(n,"-").concat(a,"-").concat(r),x1:e.nodes[n].x,y1:e.nodes[n].y,x2:e.nodes[a].x,y2:e.nodes[a].y,stroke:"#00AAAA",strokeWidth:.005}})]}},[t]);return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1 1",style:{display:"block",maxWidth:"100%",pointerEvents:"none"},children:[r.map(e=>(0,n.jsx)("circle",{id:e.id,cx:e.cx,cy:e.cy,r:e.r,fill:e.fill},e.id)),s.map(e=>(0,n.jsx)("line",{id:e.id,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:e.stroke,strokeWidth:e.strokeWidth},e.id))]})}function o(){let[e,t]=(0,a.useState)(0);return(0,n.jsxs)("div",{children:[(0,n.jsx)(s.Button,{onClick:()=>t(e=>e+1),children:"New graph"}),(0,n.jsx)(l,{size:25},e)]})}},9633:(e,t,r)=>{r.r(t),r.d(t,{PiCalc:()=>l});var n=r(9835),a=r(5931),s=r(5828);let i="http://www.w3.org/2000/svg";function l(){let e=(0,a.useRef)(null),t=(0,a.useRef)(null),r=(0,a.useRef)(null),l=(0,a.useRef)(0),o=(0,a.useRef)(0),c=(0,a.useRef)(-1);(0,a.useEffect)(()=>{let n=e.current;if(!n)return;n.replaceChildren();let a=document.createElementNS(i,"path");return a.setAttribute("d","M 0 0 L 0 1 A 1 1 0 0 0 1 0 L 0 0"),a.style.fill="#444444",n.appendChild(a),r.current&&(r.current.textContent="0 of 0"),t.current&&(t.current.textContent=""),()=>{n.replaceChildren()}},[]);let u=(0,a.useCallback)(n=>{let a=e.current,s=t.current,u=r.current;if(a&&s&&u){for(let e=0;e<n;e++){let e=Math.random(),t=Math.random(),r=document.createElementNS(i,"circle");r.setAttribute("cx",e.toString()),r.setAttribute("cy",t.toString()),r.setAttribute("r","0.002"),r.style.fill="#AAAAAA",1>Math.sqrt(e**2+t**2)&&(o.current+=1,r.style.fill="#CCCCFF"),l.current+=1,a.appendChild(r)}l.current>0?(c.current=4*o.current/l.current,s.textContent=c.current.toString()):(c.current=-1,s.textContent=""),u.textContent="".concat(o.current," of ").concat(l.current)}},[]);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"app-form-inline app-form-inline--compact",children:[(0,n.jsx)(s.Button,{type:"button",onClick:()=>u(1),children:"Go"}),(0,n.jsx)(s.Button,{type:"button",onClick:()=>u(10),children:"\xd710"}),(0,n.jsx)(s.Button,{type:"button",onClick:()=>u(100),children:"\xd7100"}),(0,n.jsx)(s.Button,{type:"button",onClick:()=>u(1e3),children:"\xd71000"})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{ref:r})," dots landed inside the circle."]}),(0,n.jsxs)("p",{children:["π is ",(0,n.jsx)("span",{ref:t})]}),(0,n.jsx)("br",{}),(0,n.jsx)("svg",{ref:e,id:"graph",viewBox:"0 0 1 1"})]})}},9872:(e,t,r)=>{r.r(t),r.d(t,{MarketNumber:()=>x,MarketSim:()=>v,useMarketNumbers:()=>f});var n=r(9835),a=r(5931),s=r(7584),i=r(5828);function l(){return{price:10,cash:0,shares:0,avg_cost:0,tick:0,networth:0,savings:0,loan:0}}let o=l(),c=new Set;function u(){return o}function d(e){return c.add(e),()=>{c.delete(e)}}function h(e){o={...e},c.forEach(e=>e())}function f(){return(0,a.useSyncExternalStore)(d,u,u)}function x(e){let{field:t,decimals:r}=e,a=f()[t],s=null!=r?r:2*!Number.isInteger(a);return(0,n.jsx)("span",{"aria-live":"polite",children:void 0===s?"".concat(a):a.toFixed(s)})}let p=null;function v(){let e=(0,a.useRef)(l()),t=(0,a.useRef)({grind:!0,market:!1,bank:!1}),r=(0,a.useRef)(null),o=(0,a.useRef)(null),c=(0,a.useRef)(null),u=(0,a.useRef)(null),d=(0,a.useRef)(null),[,f]=(0,a.useState)(0);function v(){h(e.current)}function m(){f(e=>e+1)}function g(){let n=e.current;n.tick++,n.price+=Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())/2,n.price*=1.00015,n.price<0&&(n.price=0),n.networth=n.cash+n.shares*n.price+n.savings-n.loan,n.savings*=1.0001,n.loan*=1.0003,v(),function(){let r=e.current;!t.current.market&&r.networth>20&&(t.current.market=!0),t.current.market&&!t.current.bank&&r.networth>100&&(t.current.bank=!0)}(),m(),function(){if(!r.current||!o.current)return;let t=e.current;t.tick>365&&(r.current.data.labels.shift(),r.current.data.datasets[0].data.shift(),r.current.data.datasets[1].data.shift(),o.current.data.labels.shift(),o.current.data.datasets[0].data.shift()),r.current.data.labels.push(t.tick),r.current.data.datasets[0].data.push(t.price),o.current.data.labels.push(t.tick),o.current.data.datasets[0].data.push(t.networth),t.shares>0?r.current.data.datasets[1].data.push(t.avg_cost):r.current.data.datasets[1].data.push(null),r.current.update(),o.current.update()}()}(0,a.useEffect)(()=>{let n=!1,a=()=>{if(!n){e.current=l(),t.current={grind:!0,market:!1,bank:!1},v(),m();let n=window.Chart;n&&u.current&&d.current&&(r.current&&r.current.destroy(),o.current&&o.current.destroy(),r.current=new n(u.current,{type:"line",data:{labels:[],datasets:[{label:"Stock price",data:[],borderColor:"red",radius:0,fill:!1},{label:"Average cost",data:[],borderColor:"green",radius:0,fill:!1}]},options:{legend:{display:!0},tooltips:{enabled:!1},hover:{mode:null}}}),o.current=new n(d.current,{type:"line",data:{labels:[],datasets:[{label:"Stock price",data:[],borderColor:"green",radius:0,fill:!1}]},options:{legend:{display:!1},tooltips:{enabled:!1},hover:{mode:null}}}),r.current.data.labels=[0],r.current.data.datasets[0].data=[e.current.price],r.current.data.datasets[1].data=[null],r.current.update(),o.current.data.labels=[0],o.current.data.datasets[0].data=[e.current.networth],o.current.update()),m(),c.current=window.setInterval(g,500)}};return(window.Chart?Promise.resolve():p||(p=new Promise((e,t)=>{let r=document.createElement("script");r.src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js",r.async=!0,r.onload=()=>e(),r.onerror=()=>t(Error("Failed to load Chart.js")),document.body.appendChild(r)}))).then(()=>{a()}).catch(e=>{console.error(e),a()}),()=>{n=!0,null!==c.current&&(clearInterval(c.current),c.current=null),r.current&&(r.current.destroy(),r.current=null),o.current&&(o.current.destroy(),o.current=null),h(l())}},[]);let y=e.current,j=t.current;return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("br",{}),(0,n.jsx)("canvas",{ref:d,style:{height:"50%",width:"100%"}}),(0,n.jsx)(i.Button,{onClick:function(){let t=e.current;t.cash++,v(),m()},children:"grind"}),(0,n.jsxs)("div",{className:"space-y-3",style:{display:j.market?void 0:"none"},"aria-hidden":!j.market,children:[(0,n.jsx)("canvas",{ref:u,style:{height:"75%",width:"100%"}}),(0,n.jsxs)(s.X,{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)(s.X.Tr,{children:[(0,n.jsx)(s.X.Th,{children:"Shares"}),(0,n.jsx)(s.X.Th,{children:"Average Cost"}),(0,n.jsx)(s.X.Th,{children:"Stock Price"})]})}),(0,n.jsx)("tbody",{children:(0,n.jsxs)(s.X.Tr,{children:[(0,n.jsx)(s.X.Td,{children:(0,n.jsx)(x,{field:"shares"})}),(0,n.jsxs)(s.X.Td,{children:["\xa3",(0,n.jsx)(x,{field:"avg_cost"})]}),(0,n.jsxs)(s.X.Td,{children:["\xa3",(0,n.jsx)(x,{field:"price"})]})]})})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)(i.Button,{onClick:function(){let t=e.current;t.cash-t.price>=0&&(t.cash-=t.price,t.avg_cost=(t.avg_cost*t.shares+ +t.price)/(t.shares+1),t.shares++,v(),m())},children:"buy"})," ",(0,n.jsx)(i.Button,{onClick:function(){let t=e.current;t.shares>0&&(t.cash+=t.price,t.shares--,v(),m())},children:"sell"})]})]}),(0,n.jsxs)("div",{className:"space-y-3",style:{display:j.bank?void 0:"none"},"aria-hidden":!j.bank,children:[(0,n.jsxs)("p",{children:[" Bank will only allow you to borrow up to ","60","% of your networth."]}),(0,n.jsxs)("p",{children:[" Current inflation rate is ","5.63","% per year"]}),(0,n.jsx)(s.X,{children:(0,n.jsxs)("tbody",{children:[(0,n.jsxs)(s.X.Tr,{children:[(0,n.jsxs)(s.X.Td,{children:[" Loan: \xa3",(0,n.jsx)("span",{children:y.loan.toFixed(2)})]}),(0,n.jsxs)(s.X.Td,{children:[" Savings: \xa3",(0,n.jsx)("span",{children:y.savings.toFixed(2)})]})]}),(0,n.jsxs)(s.X.Tr,{children:[(0,n.jsxs)(s.X.Td,{children:[(0,n.jsx)(i.Button,{onClick:function(){let t=e.current;t.loan+100<=.6*t.networth&&(t.cash+=100,t.loan+=100,v(),m())},children:"borrow"})," ",(0,n.jsx)(i.Button,{onClick:function(){let t=e.current;t.cash>=100&&t.loan>=100?(t.cash-=100,t.loan-=100,v(),m()):t.cash>=t.loan&&0<t.loan&&t.loan<100&&(t.cash-=t.loan,t.loan=0,v(),m())},children:"repay"})]}),(0,n.jsxs)(s.X.Td,{children:[(0,n.jsx)(i.Button,{onClick:function(){let t=e.current;t.cash>=100&&(t.cash-=100,t.savings+=100,v(),m())},children:"save"})," ",(0,n.jsx)(i.Button,{onClick:function(){let t=e.current;t.savings>=100?(t.cash+=100,t.savings-=100,v(),m()):0<t.savings&&t.savings<100&&(t.cash+=t.savings,t.savings=0,v(),m())},children:"withdraw"})]})]}),(0,n.jsxs)(s.X.Tr,{children:[(0,n.jsxs)(s.X.Td,{children:[" Loan interest rate: ","11.57","% per year"]}),(0,n.jsxs)(s.X.Td,{children:[" Savings interest rate: ","3.72","% per year"]})]})]})})]})]})}}}]);